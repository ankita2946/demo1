Devops practical 9
Got it â€” letâ€™s rewind and treat this as if youâ€™re starting from zero setup. Iâ€™ll give you:
1. Prerequisites (what you need installed first)
2. Possible platforms you can work within
3. Step-by-step setup flow (from scratch)
1. Prerequisites
â— Hardware/OS:
o Works on Windows, Linux, macOS (including your MacBook Air M3).
â— Software needed:
0. Docker Desktop â†’ Easiest way to run Prometheus + Grafana without
installing them manually.
â–ª Download Docker Desktop and install.
â–ª Verify install:
â–ª docker --version
â–ª docker compose version
1. Python 3.10+ (already pre-installed on macOS; check with python3
--version).
2. Text editor/IDE â†’ VS Code (recommended).
3. Git (optional, for cloning examples).
ğŸ”¹ 2. Platforms you can choose
You have three good options depending on how you want to run things:
A. Local with Docker (recommended for you)
â— Run Prometheus & Grafana in Docker containers.
â— Run your Python app locally or in Docker.
âœ… Simple, portable, works cross-platform.
B. Cloud Playground (no installs)
â— Use GitHub Codespaces or Gitpod (online dev environments).
â— Spin up containers in-browser.
âœ… No local setup, but limited free resources.
C. Kubernetes (advanced)
â— Run Prometheus & Grafana inside Kubernetes with Helm charts.
âœ… Closer to production setups.
âŒ Overkill if youâ€™re just learning.
ğŸ‘‰ Since you said you have nothing installed yet, I suggest Option A: Local with
Docker. Thatâ€™s the most straightforward.
ğŸ”¹ 3. Step-by-Step Setup
Hereâ€™s the complete flow for Option A (Local with Docker):
Step 1: Install Docker Desktop
â— Download & install from docker.com.
â— After install â†’ open terminal and check:
â— docker run hello-world
âœ… If you see "Hello from Docker!", youâ€™re good.
Step 2: Install Python + pip
â— On macOS:
â— brew install python
or just check if already installed:
python3 --version
pip3 --version
Step 3: Create your project folder (in terminal)
mkdir monitoring-demo
cd monitoring-demo
(on terminal)
pip install prometheus-flask-exporter
Step 4: Create your Python app (in vscode)
Inside monitoring-demo/app.py:
from flask import Flask, jsonify
from prometheus_flask_exporter import PrometheusMetrics
app = Flask(__name__)
metrics = PrometheusMetrics(app, path="/metrics")
@app.route("/hello")
def hello():
 return jsonify(message="Hello from monitored app!")
if __name__ == "__main__":
 app.run(host="0.0.0.0", port=5000)
Dependencies in requirements.txt:
Flask
prometheus-flask-exporter
Step 5: Add Docker + Prometheus + Grafana configs (in vscode)
Dockerfile (for your Python app):
FROM python:3.11-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY app.py .
EXPOSE 5000
CMD ["python", "app.py"]
prometheus.yml:
global:
 scrape_interval: 15s
scrape_configs:
 - job_name: "python-app"
 metrics_path: /metrics
 static_configs:
 - targets: ["python-app:5000"]
docker-compose.yml:
services:
 python-app:
 build: .
 ports:
 - "5000:5000"
 prometheus:
 image: prom/prometheus:latest
 volumes:
 - ./prometheus.yml:/etc/prometheus/prometheus.yml
 ports:
 - "9090:9090"
 grafana:
 image: grafana/grafana-oss:latest
environment:
 - GF_SECURITY_ADMIN_USER=admin
 - GF_SECURITY_ADMIN_PASSWORD=admin
 ports:
 - "3000:3000"
Step 6: Run everything (in terminal)
docker compose up -d --build
(open on browser)
â— Python app â†’ http://localhost:5000/hello
â— Metrics â†’ http://localhost:5000/metrics
â— Prometheus UI â†’ http://localhost:9090
â— Grafana â†’ http://localhost:3000 (login: admin/admin)
Step 7: Configure Grafana (in browser)
1. Go to Grafana â†’ Add Prometheus as data source (http://prometheus:9090).
(in add connections in left heirarchy)
2. Create a new dashboard.
3. Add panels for:
o API request rate
4. sum(rate(flask_http_request_total[5m]))
o API latency (p95)
5. histogram_quantile(0.95,
sum(rate(flask_http_request_duration_seconds_bucket[5m])) by (le))
o CPU usage (process)
6. rate(process_cpu_seconds_total[1m])
o Memory (RSS MB)
7. process_resident_memory_bytes / 1024 / 1024
At this point youâ€™ll have:
â— Prometheus scraping metrics from your Python app.
â— Grafana dashboards showing CPU, memory, request rate, and latency.
Do you want me to prepare a one-shot starter repo (zip or GitHub-ready) with all files
(app + Docker + configs), so you just clone & run without touching configs?
